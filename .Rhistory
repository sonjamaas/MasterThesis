annotate("text", x = 0.8, y = 0.1, label = "p-value = 0.408\nmean difference = 0.023", hjust = "right")
a
b <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Field Data`, y = `TLS Winter`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("TLS") +
xlab("Field Data")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
plot.margin = unit(c(0,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "p-value = 0.225\nmean difference = 0.032", hjust = "right")
c <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `TLS Winter`, y = `Backpack Winter`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("") +
xlab("TLS")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.y = element_blank(),
plot.margin = unit(c(0,0.5,0,0), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "p-value = 0.039\nmean difference = 0.011", hjust = "right")
#grid.arrange(a, NULL, b, c,
#             layout_matrix = lay2, widths = c(1,0.93), heights = c(1,1)
#             ,top = textGrob("Pairwise Comparison of DBH measurements [m]", gp=gpar(fontsize =15))
#)
# export in 6.28 6.4, cubes quadratic
layout <- "
A#
BC
"
combined <- (
a+b+c +
plot_layout(design = layout, guides = "collect") &
theme(legend.position = "right")
)
b
c
b
combined <- (
b+a+c +
plot_layout(design = layout, guides = "collect") &
theme(legend.position = "right")
)
#grid.arrange(a, NULL, b, c,
#             layout_matrix = lay2, widths = c(1,0.93), heights = c(1,1)
#             ,top = textGrob("Pairwise Comparison of DBH measurements [m]", gp=gpar(fontsize =15))
#)
# export in 6.28 6.4, cubes quadratic
layout <- "
A#
BC
"
layout
rlang::last_trace()
b
a
c
b
combined <- (
b+a+c +
plot_layout(design = layout, guides = "collect") &
theme(legend.position = "right")
)
library(grid)
y
y
library(tidyr)
combined <- (
b+a+c +
plot_layout(design = layout, guides = "collect") &
theme(legend.position = "right")
)
library(patchwork)
# export in 6.28 6.4, cubes quadratic
layout <- "
A#
BC
"
combined <- (
b+a+c +
plot_layout(design = layout, guides = "collect") &
theme(legend.position = "right")
)
combined
a <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Field Data` , y = `Backpack Winter`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("Backpack") +
xlab("Field Data")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.x = element_blank(),
plot.margin = unit(c(0.5,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "p-value = 0.408\nmean difference = 0.023", hjust = "right")
b <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Field Data`, y = `TLS Winter`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("TLS") +
xlab("")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
plot.margin = unit(c(0,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "p-value = 0.225\nmean difference = 0.032", hjust = "right")
c <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `TLS Winter`, y = `Backpack Winter`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("") +
xlab("TLS")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.y = element_blank(),
plot.margin = unit(c(0,0.5,0,0), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "p-value = 0.039\nmean difference = 0.011", hjust = "right")
# export in 6.28 6.4, cubes quadratic
layout <- "
A#
BC
"
combined <- (
b+a+c +
plot_layout(design = layout, guides = "collect") &
theme(legend.position = "right")
)
combined
t.test(dbh_data$DBH_BP, dbh_data$DBH_TLS, paired = TRUE)
t.test(data$`Backpack Winter`, data$`TLS Winter`, paired = TRUE)
t.test(data$`Backpack Winter`, data$`Field Data`, paired = TRUE)
# data:  data$`Backpack Winter` and data$`Field Data`
# t = -3.6291, df = 32, p-value = 0.0009802
# alternative hypothesis: true mean difference is not equal to 0
# 95 percent confidence interval:
#   -0.04435541 -0.01246414
# sample estimates:
#   mean difference
# -0.02840977
t.test(data$`TLS Winter`, data$`Field Data`, paired = TRUE)
t.test(data$`Backpack Winter`, data$`TLS Winter`, paired = TRUE)
t.test(data$`Backpack Winter`, data$`Field Data`, paired = TRUE)
a <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Field Data` , y = `Backpack Winter`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("Backpack") +
xlab("Field Data")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.x = element_blank(),
plot.margin = unit(c(0.5,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "p-value = 9.802e-4\nmean difference = 0.028", hjust = "right")
b <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Field Data`, y = `TLS Winter`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("TLS") +
xlab("")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
plot.margin = unit(c(0,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "p-value = 0.946\nmean difference = 3.478e-4", hjust = "right")
c <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `TLS Winter`, y = `Backpack Winter`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("") +
xlab("TLS")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.y = element_blank(),
plot.margin = unit(c(0,0.5,0,0), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "p-value = 1.584e-5\nmean difference = 0.021", hjust = "right")
# export in 6.28 6.4, cubes quadratic
layout <- "
A#
BC
"
combined <- (
b+a+c +
plot_layout(design = layout, guides = "collect") &
theme(legend.position = "right")
)
combined
a <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Field Data` , y = `Backpack Winter`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("Backpack") +
xlab("Field Data")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.x = element_blank(),
plot.margin = unit(c(0.5,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 9.802e-4\nmean difference = 0.028", hjust = "right")
b <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Field Data`, y = `TLS Winter`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("TLS") +
xlab("")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
plot.margin = unit(c(0,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 0.946\nmean difference = 3.478e-4", hjust = "right")
c <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `TLS Winter`, y = `Backpack Winter`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("") +
xlab("TLS")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.y = element_blank(),
plot.margin = unit(c(0,0.5,0,0), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 1.584e-5\nmean difference = 0.021", hjust = "right")
# export in 6.28 6.4, cubes quadratic
layout <- "
A#
BC
"
combined <- (
b+a+c +
plot_layout(design = layout, guides = "collect") &
theme(legend.position = "right")
)
combined
a <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Field Data` , y = `Backpack Summer`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("Backpack") +
xlab("Field Data")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.x = element_blank(),
plot.margin = unit(c(0.5,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 9.802e-4\nmean difference = 0.028", hjust = "right")
b <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Field Data`, y = `TLS Summer`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("TLS") +
xlab("")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
plot.margin = unit(c(0,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 0.946\nmean difference = 3.478e-4", hjust = "right")
c <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `TLS Summer`, y = `Backpack Summer`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("") +
xlab("TLS")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.y = element_blank(),
plot.margin = unit(c(0,0.5,0,0), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 1.584e-5\nmean difference = 0.021", hjust = "right")
# export in 6.28 6.4, cubes quadratic
layout <- "
A#
BC
"
combined <- (
b+a+c +
plot_layout(design = layout, guides = "collect") &
theme(legend.position = "right")
)
combined
t.test(data$`Backpack Summer`, data$`TLS Summer`, paired = TRUE)
t.test(data$`Backpack Summer`, data$`Field Data`, paired = TRUE)
t.test(data$`TLS Summer`, data$`Field Data`, paired = TRUE)
a <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Field Data` , y = `Backpack Summer`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("Backpack") +
xlab("Field Data")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.x = element_blank(),
plot.margin = unit(c(0.5,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 0.151\nmean difference = 0.024", hjust = "right")
b <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Field Data`, y = `TLS Summer`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("TLS") +
xlab("")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
plot.margin = unit(c(0,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 0.550\nmean difference = 0.004", hjust = "right")
c <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `TLS Summer`, y = `Backpack Summer`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("") +
xlab("TLS")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.y = element_blank(),
plot.margin = unit(c(0,0.5,0,0), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 0.402\nmean difference = 0.008", hjust = "right")
# export in 6.28 6.4, cubes quadratic
layout <- "
A#
BC
"
combined <- (
b+a+c +
plot_layout(design = layout, guides = "collect") &
theme(legend.position = "right")
)
combined
# compare summer and winter for individual sensors
# backpack
t.test(data$`Backpack Summer`, data$`Backpack Winter`, paired = TRUE)
a <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Backpack Winter` , y = `Backpack Summer`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("Backpack") +
xlab("Field Data")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.x = element_blank(),
plot.margin = unit(c(0.5,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 0.151\nmean difference = 0.024", hjust = "right")
a <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Backpack Winter` , y = `Backpack Summer`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("Backpack") +
xlab("Field Data")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.x = element_blank(),
plot.margin = unit(c(0.5,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 0.003\nmean difference = 0.030", hjust = "right")
a
a <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Backpack Winter` , y = `Backpack Summer`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("Backpack Summer") +
xlab("Backpack Winter")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.x = element_blank(),
plot.margin = unit(c(0.5,0,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 0.003\nmean difference = 0.030", hjust = "right")
a
a
a <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `Backpack Winter` , y = `Backpack Summer`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("Backpack Summer") +
xlab("Backpack Winter")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.x = element_blank(),
plot.margin = unit(c(0.5,0.5,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 0.003\nmean difference = 0.030", hjust = "right")
a
# backpack
t.test(data$`TLS Summer`, data$`TLS Winter`, paired = TRUE)
a <- ggplot(data = data)+
geom_abline(col = "grey", linewidth = 1)+
geom_point(aes(x = `TLS Winter` , y = `TLS Summer`), color = "darkolivegreen", fill = "darkolivegreen3", alpha = 0.6, shape = 21, size = 4)+
theme_minimal() +
ylab("TLS Summer") +
xlab("TLS Winter")+
xlim(0,0.8)+
ylim(0, 0.8)+
theme(panel.border = element_rect(color = "grey", fill = NA, linewidth = 0.5),
axis.text.x = element_blank(),
plot.margin = unit(c(0.5,0.5,0,0.5), "cm"))+
annotate("text", x = 0.8, y = 0.1, label = "Paired t-test:\np-value = 0.665\nmean difference = 0.001", hjust = "right")
a
setwd("E:/Sonja/Msc_Thesis/data/Metrics/")
library(ggplot2)
library(tidyr)
library(grid)
library(patchwork)
library(fmsb)
setwd("E:/Sonja/Msc_Thesis/data/Metrics/")
bp <- read.csv2("bp/Tree_segmentation_LiDAR360/bp_feb5.csv")
bp_summer <- read.csv2("bp/Tree_segmentation_LiDAR360/bp_jul2.csv")
tls <- read.csv("tls/tree_segmentation_LiDAR360/tls_winter.csv")
tls_summer <- read.csv2("tls/tree_segmentation_LiDAR360/tls_summer.csv")
field <- read.csv2("allData.csv")
field[,6:35] <- NULL
field[,1] <- NULL
field[,2] <- NULL
field[,3] <- NULL
field$fieldData_DBH <- field$fieldData_DBH/pi/100
tls[,3:5] <- NULL
tls[,4:6] <- NULL
tls[,1] <- NULL
tls_summer[,3:5] <- NULL
tls_summer[,4:6] <- NULL
tls_summer[,1] <- NULL
tls_summer[,1] <- NULL
bp[,1:5] <- NULL
bp[,2:4] <- NULL
bp_summer[,1:5] <- NULL
bp_summer[,2:4] <- NULL
data <- merge(bp, tls, by.x = "NewID", by.y = "TreeID")
data <- merge(data, field, by.x = "NewID", by.y = "NewTreeID" )
colnames(data) <- c("TreeID", "DBH_BP", "DBH_TLS", "DBH_Field")
data <- merge(data, bp_summer, by.x = "TreeID", by.y = "NewID" )
data <- merge(data, tls_summer, by.x = "TreeID", by.y = "PreviousID" )
colnames(data) <- c("TreeID", "Backpack Winter", "TLS Winter", "Field Data", "Backpack Summer", "TLS Summer")
data$DBH_BP <- as.numeric(data$DBH_BP)
data$DBH_BP_summer <- as.numeric(data$DBH_BP_summer)
data$DBH_TLS_summer <- as.numeric(data$DBH_TLS_summer)
View(data)
data$`Backpack Winter` <- as.numeric(data$`Backpack Winter`)
data$`Backpack Summer` <- as.numeric(data$`Backpack Summer`)
data$`TLS Summer` <- as.numeric(data$`TLS Summer`)
data_long <- pivot_longer(data, cols = c("Backpack Winter", "TLS Winter", "Field Data", "Backpack Summer", "TLS Summer"), names_to = "Source", values_to = "DBH")
## Mean
bp_mean <- mean(na.omit(data$`Backpack Winter`))
bp_mean
## Median
bp_median <- median(na.omit(data$`Backpack Winter`))
bp_median
## Standard Deviation
bp_sd <- sd(na.omit(data$`Backpack Winter`))
bp_sd
# [1] 0.4671705
tls_mean <- mean(as.numeric(data$`TLS Winter`))
tls_mean
# [1] 0.488
field_mean <- mean(na.omit(data$`Field Data`))
field_mean
# [1] 0.462
tls_median <- median(as.numeric(data$`TLS Winter`))
tls_median
# [1] 0.47
field_median <- median(na.omit(data$`Field Data`))
field_median
# [1] 0.4901972
bp_median_s <- median(na.omit(data$`Backpack Summer`))
bp_median_s
bp_mean_s
# [1] 0.484
bp_mean_s <- mean(na.omit(data$`Backpack Summer`))
bp_mean_s
tls_mean_s <- mean(as.numeric(data$`TLS Summer`))
tls_mean_s
# [1] 0.4901972
bp_median_s <- median(na.omit(data$`Backpack Summer`))
tls_median_s <- median(as.numeric(data$`TLS Summer`))
bp_median_s
tls_median_s
## Standard Deviation
bp_sd <- sd(na.omit(data$`Backpack Winter`))
# [1] 0.1363557
tls_sd <- sd(as.numeric(data$`TLS Winter`))
# [1] 0.1181976
field_sd <- sd(na.omit(data$`Field Data`))
# [1] 0.1101464
bp_sd_s <- sd(na.omit(data$`Backpack Summer`))
tls_sd_s <- sd(as.numeric(data$`TLS Summer`))
bp_sd
tls_sd
field_sd
bp_sd_s
tls_sd_s
## Range## RangeDBH_TLS_summer
bp_range <- range(na.omit(data$`Backpack Winter`))
# [1] 0.147 0.819
tls_range <- range(as.numeric(data$`TLS Winter`))
# [1] 0.186 0.807
field_range <- range(na.omit(data$`Field Data`))
# [1] 0.2005352 0.7639437
bp_range_s <- range(na.omit(data$`Backpack Summer`))
tls_range_s <- range(as.numeric(data$`TLS Summer`))
bp_range
tls_range
# [1] 0.186 0.807
field_range <- range(na.omit(data$`Field Data`))
field_range
bp_range_s
tls_range_s
